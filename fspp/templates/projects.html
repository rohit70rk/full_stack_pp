{% extends "base.html" %}

{% block content %}
<section id="projects">
  <h2>Projects</h2>
  <div class="project-grid">
    {% for project in projects %}
      <div class="project-card">
        <h3>{{ project.title }}</h3>
        <p>{{ project.description }}</p>
        {# This is the corrected link logic #}
        {% if project.has_detail and project.detail_route %}
          <a href="{{ url_for(project.detail_route) }}">View Details</a>
        {% else %}
          <a href="javascript:void(0);" class="disabled-link">View Details</a>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</section>
{% endblock %}
